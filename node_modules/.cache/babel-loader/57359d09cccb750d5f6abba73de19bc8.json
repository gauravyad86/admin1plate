{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import{withTranslation}from'react-i18next';import OrderComponent from'../components/Order/Order';import OrdersData from'../components/Order/OrdersData';import Header from'../components/Headers/Header';import{useQuery,gql}from'@apollo/client';import{getOrdersByRestaurant}from'../apollo';import useGlobalStyles from'../utils/globalStyles';import{Container,Modal}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const GET_ORDERS=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),getOrdersByRestaurant);const Orders=()=>{const[detailsModal,setDetailModal]=useState(false);const[order,setOrder]=useState(null);const[page,setPage]=useState(1);const[rowsPerPage,setRowsPerPage]=useState(10);const[search]=useState('');const restaurantId=localStorage.getItem('restaurantId');const{data,error:errorQuery,loading:loadingQuery,subscribeToMore}=useQuery(GET_ORDERS,{variables:{restaurant:restaurantId,page:page-1,rows:rowsPerPage,search}});const toggleModal=order=>{setOrder(order);setDetailModal(!detailsModal);};const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(OrderComponent,{order:order}),/*#__PURE__*/_jsxs(Container,{className:globalClasses.flex,fluid:true,children:[errorQuery&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:'Error'.concat(\" \",errorQuery.message)})}),/*#__PURE__*/_jsx(OrdersData,{orders:data&&data.ordersByRestId,toggleModal:toggleModal,subscribeToMore:subscribeToMore,loading:loadingQuery,selected:order,updateSelected:setOrder,page:setPage,rows:setRowsPerPage}),/*#__PURE__*/_jsx(Modal,{style:{width:'75%',marginLeft:'13%',overflowY:'auto'},open:detailsModal,onClose:()=>{toggleModal(null);},children:/*#__PURE__*/_jsx(OrderComponent,{order:order})})]})]});};export default withTranslation()(Orders);","map":{"version":3,"names":["React","useState","withTranslation","OrderComponent","OrdersData","Header","useQuery","gql","getOrdersByRestaurant","useGlobalStyles","Container","Modal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GET_ORDERS","_templateObject","_taggedTemplateLiteral","Orders","detailsModal","setDetailModal","order","setOrder","page","setPage","rowsPerPage","setRowsPerPage","search","restaurantId","localStorage","getItem","data","error","errorQuery","loading","loadingQuery","subscribeToMore","variables","restaurant","rows","toggleModal","globalClasses","children","className","flex","fluid","concat","message","orders","ordersByRestId","selected","updateSelected","style","width","marginLeft","overflowY","open","onClose"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/views/Orders.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport OrderComponent from '../components/Order/Order'\nimport OrdersData from '../components/Order/OrdersData'\nimport Header from '../components/Headers/Header'\nimport { useQuery, gql } from '@apollo/client'\nimport { getOrdersByRestaurant } from '../apollo'\nimport useGlobalStyles from '../utils/globalStyles'\nimport { Container, Modal } from '@mui/material'\n\nconst GET_ORDERS = gql`\n  ${getOrdersByRestaurant}\n`\n\nconst Orders = () => {\n  const [detailsModal, setDetailModal] = useState(false)\n  const [order, setOrder] = useState(null)\n  const [page, setPage] = useState(1)\n  const [rowsPerPage, setRowsPerPage] = useState(10)\n  const [search] = useState('')\n  const restaurantId = localStorage.getItem('restaurantId')\n\n  const {\n    data,\n    error: errorQuery,\n    loading: loadingQuery,\n    subscribeToMore\n  } = useQuery(GET_ORDERS, {\n    variables: {\n      restaurant: restaurantId,\n      page: page - 1,\n      rows: rowsPerPage,\n      search\n    }\n  })\n  const toggleModal = order => {\n    setOrder(order)\n    setDetailModal(!detailsModal)\n  }\n\n  const globalClasses = useGlobalStyles()\n  return (\n    <>\n      <Header />\n      {/* Page content */}\n      <OrderComponent order={order} />\n      <Container className={globalClasses.flex} fluid>\n        {errorQuery && (\n          <tr>\n            <td>{`${'Error'} ${errorQuery.message}`}</td>\n          </tr>\n        )}\n        <OrdersData\n          orders={data && data.ordersByRestId}\n          toggleModal={toggleModal}\n          subscribeToMore={subscribeToMore}\n          loading={loadingQuery}\n          selected={order}\n          updateSelected={setOrder}\n          page={setPage}\n          rows={setRowsPerPage}\n        />\n        <Modal\n          style={{\n            width: '75%',\n            marginLeft: '13%',\n            overflowY: 'auto'\n          }}\n          open={detailsModal}\n          onClose={() => {\n            toggleModal(null)\n          }}>\n          <OrderComponent order={order} />\n        </Modal>\n      </Container>\n    </>\n  )\n}\nexport default withTranslation()(Orders)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}