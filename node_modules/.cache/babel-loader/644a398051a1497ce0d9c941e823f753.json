{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect}from'react';import{withTranslation}from'react-i18next';import{useMutation,gql}from'@apollo/client';import{validateFunc}from'../../../constraints/constraints';import{saveDeliveryRateConfiguration}from'../../../apollo';import{Box,Typography,Input,Button,Alert}from'@mui/material';import useStyles from'../styles';import useGlobalStyles from'../../../utils/globalStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SAVE_DELIVERY_RATE_CONFIGURATION=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),saveDeliveryRateConfiguration);function Currency(props){const{t}=props;const[deliveryRate,setDeliveryRate]=useState(props.deliveryRate||0);const[deliveryRateError,setDeliveryRateError]=useState(null);const[mutate,{loading}]=useMutation(SAVE_DELIVERY_RATE_CONFIGURATION);const validateInput=()=>{const deliveryRateErrors=!validateFunc({deliveryRate:deliveryRate},'deliveryRate');setDeliveryRateError(deliveryRateErrors);return deliveryRateErrors;};const classes=useStyles();const globalClasses=useGlobalStyles();const[successMessage,setSuccessMessage]=useState('');const handleSuccess=message=>{setSuccessMessage(message);};useEffect(()=>{const timeoutId=setTimeout(()=>{setSuccessMessage('');},3000);return()=>clearTimeout(timeoutId);},[successMessage,setSuccessMessage]);const[errorMessage,setErrorMessage]=useState('');const handleError=error=>{setErrorMessage('An error occurred while saving configuration.');console.error('Mutation error:',error);};useEffect(()=>{const timeoutId=setTimeout(()=>{setErrorMessage('');},3000);return()=>clearTimeout(timeoutId);},[errorMessage,setErrorMessage]);return/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.text,children:t('Delivery Rate')})})}),/*#__PURE__*/_jsx(Box,{className:classes.form,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:t('Delivery Rate')}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},disabled:true,id:\"input-delivery\",name:\"input-delivery\",placeholder:t('Delivery Rate'),type:\"text\",defaultValue:deliveryRate,onChange:e=>{setDeliveryRate(e.target.value);},disableUnderline:true,className:[globalClasses.input,deliveryRateError===false?globalClasses.inputError:deliveryRateError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loading,onClick:e=>{e.preventDefault();if(validateInput()){mutate({variables:{input:{deliveryRate:Number(deliveryRate)}},onCompleted:data=>{handleSuccess('Configuration saved successfully!');},onError:error=>{handleError(error);}});}},children:t('Save')})}),/*#__PURE__*/_jsxs(Box,{mt:2,children:[successMessage&&/*#__PURE__*/_jsx(Alert,{className:globalClasses.alertSuccess,variant:\"filled\",severity:\"success\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(Alert,{className:globalClasses.alertError,variant:\"filled\",severity:\"error\",children:errorMessage})]})]})})]});}export default withTranslation()(Currency);","map":{"version":3,"names":["React","useState","useEffect","withTranslation","useMutation","gql","validateFunc","saveDeliveryRateConfiguration","Box","Typography","Input","Button","Alert","useStyles","useGlobalStyles","jsx","_jsx","jsxs","_jsxs","SAVE_DELIVERY_RATE_CONFIGURATION","_templateObject","_taggedTemplateLiteral","Currency","props","t","deliveryRate","setDeliveryRate","deliveryRateError","setDeliveryRateError","mutate","loading","validateInput","deliveryRateErrors","classes","globalClasses","successMessage","setSuccessMessage","handleSuccess","message","timeoutId","setTimeout","clearTimeout","errorMessage","setErrorMessage","handleError","error","console","container","className","children","flexRow","item","heading","variant","text","form","labelText","style","marginTop","disabled","id","name","placeholder","type","defaultValue","onChange","e","target","value","disableUnderline","input","inputError","inputSuccess","button","onClick","preventDefault","variables","Number","onCompleted","data","onError","mt","alertSuccess","severity","alertError"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/components/Configuration/DeliveryRate/DeliveryRate.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { useMutation, gql } from '@apollo/client'\nimport { validateFunc } from '../../../constraints/constraints'\nimport { saveDeliveryRateConfiguration } from '../../../apollo'\nimport { Box, Typography, Input, Button, Alert } from '@mui/material'\nimport useStyles from '../styles'\nimport useGlobalStyles from '../../../utils/globalStyles'\nconst SAVE_DELIVERY_RATE_CONFIGURATION = gql`\n  ${saveDeliveryRateConfiguration}\n`\n\nfunction Currency(props) {\n  const { t } = props\n  const [deliveryRate, setDeliveryRate] = useState(props.deliveryRate || 0)\n\n  const [deliveryRateError, setDeliveryRateError] = useState(null)\n  const [mutate, { loading }] = useMutation(SAVE_DELIVERY_RATE_CONFIGURATION)\n\n  const validateInput = () => {\n    const deliveryRateErrors = !validateFunc(\n      { deliveryRate: deliveryRate },\n      'deliveryRate'\n    )\n\n    setDeliveryRateError(deliveryRateErrors)\n    return deliveryRateErrors\n  }\n\n  const classes = useStyles()\n  const globalClasses = useGlobalStyles()\n  const [successMessage, setSuccessMessage] = useState('')\n  const handleSuccess = message => {\n    setSuccessMessage(message)\n  }\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setSuccessMessage('')\n    }, 3000)\n\n    return () => clearTimeout(timeoutId)\n  }, [successMessage, setSuccessMessage])\n  const [errorMessage, setErrorMessage] = useState('')\n  const handleError = error => {\n    setErrorMessage('An error occurred while saving configuration.')\n    console.error('Mutation error:', error)\n  }\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setErrorMessage('')\n    }, 3000)\n\n    return () => clearTimeout(timeoutId)\n  }, [errorMessage, setErrorMessage])\n\n  return (\n    <Box container className={classes.container}>\n      <Box className={classes.flexRow}>\n        <Box item className={classes.heading}>\n          <Typography variant=\"h6\" className={classes.text}>\n            {t('Delivery Rate')}\n          </Typography>\n        </Box>\n      </Box>\n\n      <Box className={classes.form}>\n        <form>\n          <Box>\n            <Typography className={classes.labelText}>\n              {t('Delivery Rate')}\n            </Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              disabled\n              id=\"input-delivery\"\n              name=\"input-delivery\"\n              placeholder={t('Delivery Rate')}\n              type=\"text\"\n              defaultValue={deliveryRate}\n              onChange={e => {\n                setDeliveryRate(e.target.value)\n              }}\n              disableUnderline\n              className={[\n                globalClasses.input,\n                deliveryRateError === false\n                  ? globalClasses.inputError\n                  : deliveryRateError === true\n                  ? globalClasses.inputSuccess\n                  : ''\n              ]}\n            />\n          </Box>\n          <Box>\n            <Button\n              className={globalClasses.button}\n              disabled={loading}\n              onClick={e => {\n                e.preventDefault()\n                if (validateInput()) {\n                  mutate({\n                    variables: {\n                      input: {\n                        deliveryRate: Number(deliveryRate)\n                      }\n                    },\n                    onCompleted: data => {\n                      handleSuccess('Configuration saved successfully!')\n                    },\n                    onError: error => {\n                      handleError(error)\n                    }\n                  })\n                }\n              }}>\n              {t('Save')}\n            </Button>\n          </Box>\n          <Box mt={2}>\n            {successMessage && (\n              <Alert\n                className={globalClasses.alertSuccess}\n                variant=\"filled\"\n                severity=\"success\">\n                {successMessage}\n              </Alert>\n            )}\n            {errorMessage && (\n              <Alert\n                className={globalClasses.alertError}\n                variant=\"filled\"\n                severity=\"error\">\n                {errorMessage}\n              </Alert>\n            )}\n          </Box>\n        </form>\n      </Box>\n    </Box>\n  )\n}\n\nexport default withTranslation()(Currency)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}