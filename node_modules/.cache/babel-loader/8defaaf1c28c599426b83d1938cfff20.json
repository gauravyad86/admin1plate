{"ast":null,"code":"import { getCurrentHub } from '@sentry/hub';\nimport { logger } from '@sentry/utils';\nimport { IS_DEBUG_BUILD } from './flags';\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nexport function initAndBind(clientClass, options) {\n  if (options.debug === true) {\n    if (IS_DEBUG_BUILD) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      // eslint-disable-next-line no-console\n      console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n    }\n  }\n  var hub = getCurrentHub();\n  var scope = hub.getScope();\n  if (scope) {\n    scope.update(options.initialScope);\n  }\n  var client = new clientClass(options);\n  hub.bindClient(client);\n}","map":{"version":3,"names":["getCurrentHub","logger","IS_DEBUG_BUILD","initAndBind","clientClass","options","debug","enable","console","warn","hub","scope","getScope","update","initialScope","client","bindClient"],"sources":["../../src/sdk.ts"],"sourcesContent":["import { getCurrentHub } from '@sentry/hub';\nimport { Client, Options } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\nimport { IS_DEBUG_BUILD } from './flags';\n\n/** A class object that can instantiate Client objects. */\nexport type ClientClass<F extends Client, O extends Options> = new (options: O) => F;\n\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nexport function initAndBind<F extends Client, O extends Options>(clientClass: ClientClass<F, O>, options: O): void {\n  if (options.debug === true) {\n    if (IS_DEBUG_BUILD) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      // eslint-disable-next-line no-console\n      console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n    }\n  }\n  const hub = getCurrentHub();\n  const scope = hub.getScope();\n  if (scope) {\n    scope.update(options.initialScope);\n  }\n  const client = new clientClass(options);\n  hub.bindClient(client);\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,aAAa;AAE3C,SAASC,MAAM,QAAQ,eAAe;AAEtC,SAASC,cAAc,QAAQ,SAAS;AAKxC;;;;;;;AAOA,OAAM,SAAUC,WAAWA,CAAsCC,WAA8B,EAAEC,OAAU;EACzG,IAAIA,OAAO,CAACC,KAAK,KAAK,IAAI,EAAE;IAC1B,IAAIJ,cAAc,EAAE;MAClBD,MAAM,CAACM,MAAM,EAAE;KAChB,MAAM;MACL;MACA;MACAC,OAAO,CAACC,IAAI,CAAC,8EAA8E,CAAC;;;EAGhG,IAAMC,GAAG,GAAGV,aAAa,EAAE;EAC3B,IAAMW,KAAK,GAAGD,GAAG,CAACE,QAAQ,EAAE;EAC5B,IAAID,KAAK,EAAE;IACTA,KAAK,CAACE,MAAM,CAACR,OAAO,CAACS,YAAY,CAAC;;EAEpC,IAAMC,MAAM,GAAG,IAAIX,WAAW,CAACC,OAAO,CAAC;EACvCK,GAAG,CAACM,UAAU,CAACD,MAAM,CAAC;AACxB"},"metadata":{},"sourceType":"module"}