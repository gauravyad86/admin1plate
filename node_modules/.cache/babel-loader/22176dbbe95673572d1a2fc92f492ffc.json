{"ast":null,"code":"import { __read, __spread } from \"tslib\";\nimport { getEventDescription, isMatchingPattern, logger } from '@sentry/utils';\nimport { IS_DEBUG_BUILD } from '../flags';\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nvar DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n/** Inbound filters configurable by the user */\nvar InboundFilters = /** @class */function () {\n  function InboundFilters(_options) {\n    if (_options === void 0) {\n      _options = {};\n    }\n    this._options = _options;\n    /**\n     * @inheritDoc\n     */\n    this.name = InboundFilters.id;\n  }\n  /**\n   * @inheritDoc\n   */\n  InboundFilters.prototype.setupOnce = function (addGlobalEventProcessor, getCurrentHub) {\n    addGlobalEventProcessor(function (event) {\n      var hub = getCurrentHub();\n      if (hub) {\n        var self_1 = hub.getIntegration(InboundFilters);\n        if (self_1) {\n          var client = hub.getClient();\n          var clientOptions = client ? client.getOptions() : {};\n          var options = _mergeOptions(self_1._options, clientOptions);\n          return _shouldDropEvent(event, options) ? null : event;\n        }\n      }\n      return event;\n    });\n  };\n  /**\n   * @inheritDoc\n   */\n  InboundFilters.id = 'InboundFilters';\n  return InboundFilters;\n}();\nexport { InboundFilters };\n/** JSDoc */\nexport function _mergeOptions(internalOptions, clientOptions) {\n  if (internalOptions === void 0) {\n    internalOptions = {};\n  }\n  if (clientOptions === void 0) {\n    clientOptions = {};\n  }\n  return {\n    allowUrls: __spread(internalOptions.whitelistUrls || [], internalOptions.allowUrls || [], clientOptions.whitelistUrls || [], clientOptions.allowUrls || []),\n    denyUrls: __spread(internalOptions.blacklistUrls || [], internalOptions.denyUrls || [], clientOptions.blacklistUrls || [], clientOptions.denyUrls || []),\n    ignoreErrors: __spread(internalOptions.ignoreErrors || [], clientOptions.ignoreErrors || [], DEFAULT_IGNORE_ERRORS),\n    ignoreInternal: internalOptions.ignoreInternal !== undefined ? internalOptions.ignoreInternal : true\n  };\n}\n/** JSDoc */\nexport function _shouldDropEvent(event, options) {\n  if (options.ignoreInternal && _isSentryError(event)) {\n    IS_DEBUG_BUILD && logger.warn(\"Event dropped due to being internal Sentry Error.\\nEvent: \" + getEventDescription(event));\n    return true;\n  }\n  if (_isIgnoredError(event, options.ignoreErrors)) {\n    IS_DEBUG_BUILD && logger.warn(\"Event dropped due to being matched by `ignoreErrors` option.\\nEvent: \" + getEventDescription(event));\n    return true;\n  }\n  if (_isDeniedUrl(event, options.denyUrls)) {\n    IS_DEBUG_BUILD && logger.warn(\"Event dropped due to being matched by `denyUrls` option.\\nEvent: \" + getEventDescription(event) + \".\\nUrl: \" + _getEventFilterUrl(event));\n    return true;\n  }\n  if (!_isAllowedUrl(event, options.allowUrls)) {\n    IS_DEBUG_BUILD && logger.warn(\"Event dropped due to not being matched by `allowUrls` option.\\nEvent: \" + getEventDescription(event) + \".\\nUrl: \" + _getEventFilterUrl(event));\n    return true;\n  }\n  return false;\n}\nfunction _isIgnoredError(event, ignoreErrors) {\n  if (!ignoreErrors || !ignoreErrors.length) {\n    return false;\n  }\n  return _getPossibleEventMessages(event).some(function (message) {\n    return ignoreErrors.some(function (pattern) {\n      return isMatchingPattern(message, pattern);\n    });\n  });\n}\nfunction _isDeniedUrl(event, denyUrls) {\n  // TODO: Use Glob instead?\n  if (!denyUrls || !denyUrls.length) {\n    return false;\n  }\n  var url = _getEventFilterUrl(event);\n  return !url ? false : denyUrls.some(function (pattern) {\n    return isMatchingPattern(url, pattern);\n  });\n}\nfunction _isAllowedUrl(event, allowUrls) {\n  // TODO: Use Glob instead?\n  if (!allowUrls || !allowUrls.length) {\n    return true;\n  }\n  var url = _getEventFilterUrl(event);\n  return !url ? true : allowUrls.some(function (pattern) {\n    return isMatchingPattern(url, pattern);\n  });\n}\nfunction _getPossibleEventMessages(event) {\n  if (event.message) {\n    return [event.message];\n  }\n  if (event.exception) {\n    try {\n      var _a = event.exception.values && event.exception.values[0] || {},\n        _b = _a.type,\n        type = _b === void 0 ? '' : _b,\n        _c = _a.value,\n        value = _c === void 0 ? '' : _c;\n      return [\"\" + value, type + \": \" + value];\n    } catch (oO) {\n      IS_DEBUG_BUILD && logger.error(\"Cannot extract message for event \" + getEventDescription(event));\n      return [];\n    }\n  }\n  return [];\n}\nfunction _isSentryError(event) {\n  try {\n    // @ts-ignore can't be a sentry error if undefined\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return event.exception.values[0].type === 'SentryError';\n  } catch (e) {\n    // ignore\n  }\n  return false;\n}\nfunction _getLastValidUrl(frames) {\n  if (frames === void 0) {\n    frames = [];\n  }\n  for (var i = frames.length - 1; i >= 0; i--) {\n    var frame = frames[i];\n    if (frame && frame.filename !== '<anonymous>' && frame.filename !== '[native code]') {\n      return frame.filename || null;\n    }\n  }\n  return null;\n}\nfunction _getEventFilterUrl(event) {\n  try {\n    if (event.stacktrace) {\n      return _getLastValidUrl(event.stacktrace.frames);\n    }\n    var frames_1;\n    try {\n      // @ts-ignore we only care about frames if the whole thing here is defined\n      frames_1 = event.exception.values[0].stacktrace.frames;\n    } catch (e) {\n      // ignore\n    }\n    return frames_1 ? _getLastValidUrl(frames_1) : null;\n  } catch (oO) {\n    IS_DEBUG_BUILD && logger.error(\"Cannot extract url for event \" + getEventDescription(event));\n    return null;\n  }\n}","map":{"version":3,"names":["getEventDescription","isMatchingPattern","logger","IS_DEBUG_BUILD","DEFAULT_IGNORE_ERRORS","InboundFilters","_options","name","id","prototype","setupOnce","addGlobalEventProcessor","getCurrentHub","event","hub","self_1","getIntegration","client","getClient","clientOptions","getOptions","options","_mergeOptions","_shouldDropEvent","internalOptions","allowUrls","__spread","whitelistUrls","denyUrls","blacklistUrls","ignoreErrors","ignoreInternal","undefined","_isSentryError","warn","_isIgnoredError","_isDeniedUrl","_getEventFilterUrl","_isAllowedUrl","length","_getPossibleEventMessages","some","message","pattern","url","exception","_a","values","_b","type","_c","value","oO","error","e","_getLastValidUrl","frames","i","frame","filename","stacktrace","frames_1"],"sources":["../../../src/integrations/inboundfilters.ts"],"sourcesContent":["import { Event, EventProcessor, Hub, Integration, StackFrame } from '@sentry/types';\nimport { getEventDescription, isMatchingPattern, logger } from '@sentry/utils';\n\nimport { IS_DEBUG_BUILD } from '../flags';\n\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nconst DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n\n/** Options for the InboundFilters integration */\nexport interface InboundFiltersOptions {\n  allowUrls: Array<string | RegExp>;\n  denyUrls: Array<string | RegExp>;\n  ignoreErrors: Array<string | RegExp>;\n  ignoreInternal: boolean;\n\n  /** @deprecated use {@link InboundFiltersOptions.allowUrls} instead. */\n  whitelistUrls: Array<string | RegExp>;\n  /** @deprecated use {@link InboundFiltersOptions.denyUrls} instead. */\n  blacklistUrls: Array<string | RegExp>;\n}\n\n/** Inbound filters configurable by the user */\nexport class InboundFilters implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'InboundFilters';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = InboundFilters.id;\n\n  public constructor(private readonly _options: Partial<InboundFiltersOptions> = {}) {}\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (processor: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((event: Event) => {\n      const hub = getCurrentHub();\n      if (hub) {\n        const self = hub.getIntegration(InboundFilters);\n        if (self) {\n          const client = hub.getClient();\n          const clientOptions = client ? client.getOptions() : {};\n          const options = _mergeOptions(self._options, clientOptions);\n          return _shouldDropEvent(event, options) ? null : event;\n        }\n      }\n      return event;\n    });\n  }\n}\n\n/** JSDoc */\nexport function _mergeOptions(\n  internalOptions: Partial<InboundFiltersOptions> = {},\n  clientOptions: Partial<InboundFiltersOptions> = {},\n): Partial<InboundFiltersOptions> {\n  return {\n    allowUrls: [\n      // eslint-disable-next-line deprecation/deprecation\n      ...(internalOptions.whitelistUrls || []),\n      ...(internalOptions.allowUrls || []),\n      // eslint-disable-next-line deprecation/deprecation\n      ...(clientOptions.whitelistUrls || []),\n      ...(clientOptions.allowUrls || []),\n    ],\n    denyUrls: [\n      // eslint-disable-next-line deprecation/deprecation\n      ...(internalOptions.blacklistUrls || []),\n      ...(internalOptions.denyUrls || []),\n      // eslint-disable-next-line deprecation/deprecation\n      ...(clientOptions.blacklistUrls || []),\n      ...(clientOptions.denyUrls || []),\n    ],\n    ignoreErrors: [\n      ...(internalOptions.ignoreErrors || []),\n      ...(clientOptions.ignoreErrors || []),\n      ...DEFAULT_IGNORE_ERRORS,\n    ],\n    ignoreInternal: internalOptions.ignoreInternal !== undefined ? internalOptions.ignoreInternal : true,\n  };\n}\n\n/** JSDoc */\nexport function _shouldDropEvent(event: Event, options: Partial<InboundFiltersOptions>): boolean {\n  if (options.ignoreInternal && _isSentryError(event)) {\n    IS_DEBUG_BUILD &&\n      logger.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${getEventDescription(event)}`);\n    return true;\n  }\n  if (_isIgnoredError(event, options.ignoreErrors)) {\n    IS_DEBUG_BUILD &&\n      logger.warn(\n        `Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${getEventDescription(event)}`,\n      );\n    return true;\n  }\n  if (_isDeniedUrl(event, options.denyUrls)) {\n    IS_DEBUG_BUILD &&\n      logger.warn(\n        `Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  if (!_isAllowedUrl(event, options.allowUrls)) {\n    IS_DEBUG_BUILD &&\n      logger.warn(\n        `Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  return false;\n}\n\nfunction _isIgnoredError(event: Event, ignoreErrors?: Array<string | RegExp>): boolean {\n  if (!ignoreErrors || !ignoreErrors.length) {\n    return false;\n  }\n\n  return _getPossibleEventMessages(event).some(message =>\n    ignoreErrors.some(pattern => isMatchingPattern(message, pattern)),\n  );\n}\n\nfunction _isDeniedUrl(event: Event, denyUrls?: Array<string | RegExp>): boolean {\n  // TODO: Use Glob instead?\n  if (!denyUrls || !denyUrls.length) {\n    return false;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? false : denyUrls.some(pattern => isMatchingPattern(url, pattern));\n}\n\nfunction _isAllowedUrl(event: Event, allowUrls?: Array<string | RegExp>): boolean {\n  // TODO: Use Glob instead?\n  if (!allowUrls || !allowUrls.length) {\n    return true;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? true : allowUrls.some(pattern => isMatchingPattern(url, pattern));\n}\n\nfunction _getPossibleEventMessages(event: Event): string[] {\n  if (event.message) {\n    return [event.message];\n  }\n  if (event.exception) {\n    try {\n      const { type = '', value = '' } = (event.exception.values && event.exception.values[0]) || {};\n      return [`${value}`, `${type}: ${value}`];\n    } catch (oO) {\n      IS_DEBUG_BUILD && logger.error(`Cannot extract message for event ${getEventDescription(event)}`);\n      return [];\n    }\n  }\n  return [];\n}\n\nfunction _isSentryError(event: Event): boolean {\n  try {\n    // @ts-ignore can't be a sentry error if undefined\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return event.exception.values[0].type === 'SentryError';\n  } catch (e) {\n    // ignore\n  }\n  return false;\n}\n\nfunction _getLastValidUrl(frames: StackFrame[] = []): string | null {\n  for (let i = frames.length - 1; i >= 0; i--) {\n    const frame = frames[i];\n\n    if (frame && frame.filename !== '<anonymous>' && frame.filename !== '[native code]') {\n      return frame.filename || null;\n    }\n  }\n\n  return null;\n}\n\nfunction _getEventFilterUrl(event: Event): string | null {\n  try {\n    if (event.stacktrace) {\n      return _getLastValidUrl(event.stacktrace.frames);\n    }\n    let frames;\n    try {\n      // @ts-ignore we only care about frames if the whole thing here is defined\n      frames = event.exception.values[0].stacktrace.frames;\n    } catch (e) {\n      // ignore\n    }\n    return frames ? _getLastValidUrl(frames) : null;\n  } catch (oO) {\n    IS_DEBUG_BUILD && logger.error(`Cannot extract url for event ${getEventDescription(event)}`);\n    return null;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}