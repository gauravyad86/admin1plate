{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import RestaurantCard from'../components/Restaurant/Card';import{Link}from'react-router-dom';import{useQuery,gql}from'@apollo/client';import{restaurantByOwner}from'../apollo';import CreateRestaurant from'../components/Restaurant/CreateRestaurant';import{Box,Button,Modal,Container,Grid,useTheme}from'@mui/material';import AddIcon from'@mui/icons-material/Add';import useGlobalStyles from'../utils/globalStyles';import{withTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const RESTAURANT_BY_OWNER=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),restaurantByOwner);const Restaurant=props=>{const theme=useTheme();const{t}=props;const[owner,setOwner]=useState();const[isModalVisible,setIsModalVisible]=useState(false);const vendorId=localStorage.getItem('vendorId');const toggleModal=()=>{setIsModalVisible(prevState=>!prevState);};const globalClasses=useGlobalStyles();const{data,error:errorQuery,loading:loadingQuery}=useQuery(RESTAURANT_BY_OWNER,{variables:{id:vendorId}});const links=data&&data.restaurantByOwner.restaurants.map((rest,index)=>{return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(Link,{underline:\"none\",style:{textDecoration:'none'},onClick:()=>{localStorage.setItem('restaurantId',rest._id);localStorage.setItem('restaurantImage',rest.image);localStorage.setItem('restaurantName',rest.name);},to:\"/admin/dashboard/\".concat(rest.slug),children:/*#__PURE__*/_jsx(RestaurantCard,{rest:rest},rest._id)},rest._id)},index);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{height:'160px',width:'100%',background:\"linear-gradient(91.18deg, \".concat(theme.palette.warning.dark,\" 1.49%, \").concat(theme.palette.primary.main,\" 99.86%)\"),borderRadius:'0 0 40px 40px',marginBottom:1,mt:-10}}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsxs(Box,{mt:-10,children:[loadingQuery?/*#__PURE__*/_jsx(\"div\",{children:t('Loading')}):null,errorQuery?/*#__PURE__*/_jsxs(\"span\",{children:[\"`$\",errorQuery.message,\"`\"]}):null,!loadingQuery&&!errorQuery&&/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:links})]}),/*#__PURE__*/_jsx(Box,{mt:6,className:globalClasses.flexRow,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>{setOwner(data.restaurantByOwner._id);toggleModal();},style:{backgroundColor:theme.palette.common.black,color:theme.palette.warning.dark,borderRadius:10},startIcon:/*#__PURE__*/_jsx(AddIcon,{fill:theme.palette.common.black}),children:t('AddNewRestaurant')})}),/*#__PURE__*/_jsx(Modal,{open:isModalVisible,onClose:toggleModal,style:{width:'65%',marginLeft:'18%',overflowY:'auto'},children:/*#__PURE__*/_jsx(CreateRestaurant,{owner:owner})})]})]});};export default withTranslation()(Restaurant);","map":{"version":3,"names":["React","useState","RestaurantCard","Link","useQuery","gql","restaurantByOwner","CreateRestaurant","Box","Button","Modal","Container","Grid","useTheme","AddIcon","useGlobalStyles","withTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RESTAURANT_BY_OWNER","_templateObject","_taggedTemplateLiteral","Restaurant","props","theme","t","owner","setOwner","isModalVisible","setIsModalVisible","vendorId","localStorage","getItem","toggleModal","prevState","globalClasses","data","error","errorQuery","loading","loadingQuery","variables","id","links","restaurants","map","rest","index","item","xs","sm","md","lg","children","underline","style","textDecoration","onClick","setItem","_id","image","name","to","concat","slug","sx","height","width","background","palette","warning","dark","primary","main","borderRadius","marginBottom","mt","fluid","message","container","spacing","className","flexRow","variant","backgroundColor","common","black","color","startIcon","fill","open","onClose","marginLeft","overflowY"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/views/Restaurant.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport RestaurantCard from '../components/Restaurant/Card'\nimport { Link } from 'react-router-dom'\nimport { useQuery, gql } from '@apollo/client'\nimport { restaurantByOwner } from '../apollo'\nimport CreateRestaurant from '../components/Restaurant/CreateRestaurant'\nimport { Box, Button, Modal, Container, Grid, useTheme } from '@mui/material'\nimport AddIcon from '@mui/icons-material/Add'\nimport useGlobalStyles from '../utils/globalStyles'\nimport { withTranslation } from 'react-i18next'\n\nconst RESTAURANT_BY_OWNER = gql`\n  ${restaurantByOwner}\n`\nconst Restaurant = props => {\n  const theme = useTheme()\n  const { t } = props\n  const [owner, setOwner] = useState()\n  const [isModalVisible, setIsModalVisible] = useState(false)\n  const vendorId = localStorage.getItem('vendorId')\n  const toggleModal = () => {\n    setIsModalVisible(prevState => !prevState)\n  }\n\n  const globalClasses = useGlobalStyles()\n\n  const { data, error: errorQuery, loading: loadingQuery } = useQuery(\n    RESTAURANT_BY_OWNER,\n    {\n      variables: { id: vendorId }\n    }\n  )\n  const links =\n    data &&\n    data.restaurantByOwner.restaurants.map((rest, index) => {\n      return (\n        <Grid key={index} item xs={12} sm={6} md={4} lg={3}>\n          <Link\n            underline=\"none\"\n            style={{ textDecoration: 'none' }}\n            key={rest._id}\n            onClick={() => {\n              localStorage.setItem('restaurantId', rest._id)\n              localStorage.setItem('restaurantImage', rest.image)\n              localStorage.setItem('restaurantName', rest.name)\n            }}\n            to={`/admin/dashboard/${rest.slug}`}>\n            <RestaurantCard key={rest._id} rest={rest} />\n          </Link>\n        </Grid>\n      )\n    })\n  return (\n    <>\n      <Box\n        sx={{\n          height: '160px',\n          width: '100%',\n          background: `linear-gradient(91.18deg, ${theme.palette.warning.dark} 1.49%, ${theme.palette.primary.main} 99.86%)`,\n          borderRadius: '0 0 40px 40px',\n          marginBottom: 1,\n          mt: -10\n        }}\n      />\n      {/* Page content */}\n      <Container fluid>\n        <Box mt={-10}>\n          {loadingQuery ? <div>{t('Loading')}</div> : null}\n          {errorQuery ? <span>`${errorQuery.message}`</span> : null}\n          {!loadingQuery && !errorQuery && (\n            <Grid container spacing={2}>\n              {links}\n            </Grid>\n          )}\n        </Box>\n        <Box mt={6} className={globalClasses.flexRow}>\n          <Button\n            variant=\"contained\"\n            onClick={() => {\n              setOwner(data.restaurantByOwner._id)\n              toggleModal()\n            }}\n            style={{\n              backgroundColor: theme.palette.common.black,\n              color: theme.palette.warning.dark,\n              borderRadius: 10\n            }}\n            startIcon={<AddIcon fill={theme.palette.common.black} />}>\n            {t('AddNewRestaurant')}\n          </Button>\n        </Box>\n        <Modal\n          open={isModalVisible}\n          onClose={toggleModal}\n          style={{\n            width: '65%',\n            marginLeft: '18%',\n            overflowY: 'auto'\n          }}>\n          <CreateRestaurant owner={owner} />\n        </Modal>\n      </Container>\n    </>\n  )\n}\nexport default withTranslation()(Restaurant)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}