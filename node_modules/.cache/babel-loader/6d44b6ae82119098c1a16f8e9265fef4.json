{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import{withTranslation}from'react-i18next';import Header from'../components/Headers/Header';import CustomLoader from'../components/Loader/CustomLoader';import{useQuery,gql}from'@apollo/client';import{getUsers}from'../apollo';import DataTable from'react-data-table-component';import orderBy from'lodash/orderBy';import SearchBar from'../components/TableHeader/SearchBar';import{customStyles}from'../utils/tableCustomStyles';import useGlobalStyles from'../utils/globalStyles';import{Box,Container}from'@mui/material';import{ReactComponent as UserIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/svg/svg/User.svg\";import TableHeader from'../components/TableHeader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const GET_USERS=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),getUsers);const Users=props=>{const{t}=props;const[searchQuery,setSearchQuery]=useState('');const onChangeSearch=e=>setSearchQuery(e.target.value);const{data,error:errorQuery,loading:loadingQuery,refetch}=useQuery(GET_USERS,{variables:{page:0}});const columns=[{name:t('Name'),sortable:true,selector:'name'},{name:t('Email'),sortable:true,selector:'email',cell:row=>hiddenData(row.email,'EMAIL')},{name:t('Phone'),sortable:true,selector:'phone',cell:row=>hiddenData(row.phone,'PHONE')}];const hiddenData=(cell,column)=>{if(column==='EMAIL'){if(cell!=null){const splitArray=cell.split('@');splitArray.splice(0,1,'*'.repeat(splitArray[0].length));const star=splitArray.join('@');return star;}else{return'*';}}else if(column==='PHONE'){const star='*'.repeat(cell.length);return star;}};const customSort=(rows,field,direction)=>{const handleField=row=>{if(row[field]){return row[field].toLowerCase();}return row[field];};return orderBy(rows,handleField,direction);};const handleSort=(column,sortDirection)=>console.log(column.selector,sortDirection);const regex=searchQuery.length>2?new RegExp(searchQuery.toLowerCase(),'g'):null;const filtered=searchQuery.length<3?data&&data.users:data&&data.users.filter(user=>{return user.name.toLowerCase().search(regex)>-1||user.phone.toLowerCase().search(regex)>-1||(user.email!==null?user.email.toLowerCase().search(regex)>-1:false);});const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Box,{className:globalClasses.flexRow,mb:3,children:/*#__PURE__*/_jsx(UserIcon,{})}),/*#__PURE__*/_jsxs(Container,{classNname:globalClasses.flex,fluid:true,children:[errorQuery?/*#__PURE__*/_jsxs(\"span\",{children:[\"`$\",t('Error'),\"! $\",errorQuery.message,\"`\"]}):null,loadingQuery?/*#__PURE__*/_jsx(CustomLoader,{}):/*#__PURE__*/_jsx(DataTable,{subHeader:true,subHeaderComponent:/*#__PURE__*/_jsx(SearchBar,{value:searchQuery,onChange:onChangeSearch,onClick:()=>refetch()}),title:/*#__PURE__*/_jsx(TableHeader,{title:t('Users')}),columns:columns,data:filtered,pagination:true,progressPending:loadingQuery,progressComponent:/*#__PURE__*/_jsx(CustomLoader,{}),onSort:handleSort,sortFunction:customSort,customStyles:customStyles,selectableRows:true,paginationIconLastPage:\"\",paginationIconFirstPage:\"\"})]})]});};export default withTranslation()(Users);","map":{"version":3,"names":["React","useState","withTranslation","Header","CustomLoader","useQuery","gql","getUsers","DataTable","orderBy","SearchBar","customStyles","useGlobalStyles","Box","Container","ReactComponent","UserIcon","TableHeader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GET_USERS","_templateObject","_taggedTemplateLiteral","Users","props","t","searchQuery","setSearchQuery","onChangeSearch","e","target","value","data","error","errorQuery","loading","loadingQuery","refetch","variables","page","columns","name","sortable","selector","cell","row","hiddenData","email","phone","column","splitArray","split","splice","repeat","length","star","join","customSort","rows","field","direction","handleField","toLowerCase","handleSort","sortDirection","console","log","regex","RegExp","filtered","users","filter","user","search","globalClasses","children","className","flexRow","mb","classNname","flex","fluid","message","subHeader","subHeaderComponent","onChange","onClick","title","pagination","progressPending","progressComponent","onSort","sortFunction","selectableRows","paginationIconLastPage","paginationIconFirstPage"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/views/Users.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport Header from '../components/Headers/Header'\nimport CustomLoader from '../components/Loader/CustomLoader'\nimport { useQuery, gql } from '@apollo/client'\nimport { getUsers } from '../apollo'\nimport DataTable from 'react-data-table-component'\nimport orderBy from 'lodash/orderBy'\nimport SearchBar from '../components/TableHeader/SearchBar'\nimport { customStyles } from '../utils/tableCustomStyles'\nimport useGlobalStyles from '../utils/globalStyles'\nimport { Box, Container } from '@mui/material'\nimport { ReactComponent as UserIcon } from '../assets/svg/svg/User.svg'\nimport TableHeader from '../components/TableHeader'\n\nconst GET_USERS = gql`\n  ${getUsers}\n`\nconst Users = props => {\n  const { t } = props\n\n  const [searchQuery, setSearchQuery] = useState('')\n  const onChangeSearch = e => setSearchQuery(e.target.value)\n  const { data, error: errorQuery, loading: loadingQuery, refetch } = useQuery(\n    GET_USERS,\n    {\n      variables: { page: 0 }\n    }\n  )\n  const columns = [\n    {\n      name: t('Name'),\n      sortable: true,\n      selector: 'name'\n    },\n    {\n      name: t('Email'),\n      sortable: true,\n      selector: 'email',\n      cell: row => hiddenData(row.email, 'EMAIL')\n    },\n    {\n      name: t('Phone'),\n      sortable: true,\n      selector: 'phone',\n      cell: row => hiddenData(row.phone, 'PHONE')\n    }\n  ]\n\n  const hiddenData = (cell, column) => {\n    if (column === 'EMAIL') {\n      if (cell != null) {\n        const splitArray = cell.split('@')\n        splitArray.splice(0, 1, '*'.repeat(splitArray[0].length))\n        const star = splitArray.join('@')\n        return star\n      } else {\n        return '*'\n      }\n    } else if (column === 'PHONE') {\n      const star = '*'.repeat(cell.length)\n      return star\n    }\n  }\n  const customSort = (rows, field, direction) => {\n    const handleField = row => {\n      if (row[field]) {\n        return row[field].toLowerCase()\n      }\n      return row[field]\n    }\n\n    return orderBy(rows, handleField, direction)\n  }\n\n  const handleSort = (column, sortDirection) =>\n    console.log(column.selector, sortDirection)\n\n  const regex =\n    searchQuery.length > 2 ? new RegExp(searchQuery.toLowerCase(), 'g') : null\n\n  const filtered =\n    searchQuery.length < 3\n      ? data && data.users\n      : data &&\n        data.users.filter(user => {\n          return (\n            user.name.toLowerCase().search(regex) > -1 ||\n            user.phone.toLowerCase().search(regex) > -1 ||\n            (user.email !== null\n              ? user.email.toLowerCase().search(regex) > -1\n              : false)\n          )\n        })\n  const globalClasses = useGlobalStyles()\n  return (\n    <>\n      <Header />\n      <Box className={globalClasses.flexRow} mb={3}>\n        <UserIcon />\n      </Box>\n      <Container classNname={globalClasses.flex} fluid>\n        {errorQuery ? (\n          <span>\n            `${t('Error')}! ${errorQuery.message}`\n          </span>\n        ) : null}\n        {loadingQuery ? (\n          <CustomLoader />\n        ) : (\n          <DataTable\n            subHeader={true}\n            subHeaderComponent={\n              <SearchBar\n                value={searchQuery}\n                onChange={onChangeSearch}\n                onClick={() => refetch()}\n              />\n            }\n            title={<TableHeader title={t('Users')} />}\n            columns={columns}\n            data={filtered}\n            pagination\n            progressPending={loadingQuery}\n            progressComponent={<CustomLoader />}\n            onSort={handleSort}\n            sortFunction={customSort}\n            customStyles={customStyles}\n            selectableRows\n            paginationIconLastPage=\"\"\n            paginationIconFirstPage=\"\"\n          />\n        )}\n      </Container>\n    </>\n  )\n}\nexport default withTranslation()(Users)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}