{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React from'react';import{useQuery,useMutation,gql}from'@apollo/client';import Header from'../components/Headers/Header';import{restaurants,updateCommission}from'../apollo';import CustomLoader from'../components/Loader/CustomLoader';import useGlobalStyles from'../utils/globalStyles';import{Container,Box,Typography,Grid,Input,Button}from'@mui/material';import useStyles from'../components/Rider/styles';import{NotificationContainer,NotificationManager}from'react-notifications';import'react-notifications/lib/notifications.css';import{ReactComponent as CommissionIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/svg/svg/CommisionRate.svg\";import{useTranslation,withTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const GET_RESTAURANTS=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),restaurants);const UPDATE_COMMISSION=gql(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),updateCommission);const Commission=()=>{const getValues=id=>{const commissionRate=document.getElementById(id).value;return{id,commissionRate:+commissionRate};};const[mutate,{error}]=useMutation(UPDATE_COMMISSION);const{data,error:errorQuery,loading:loadingQuery}=useQuery(GET_RESTAURANTS);console.log(data);const globalClasses=useGlobalStyles();const classes=useStyles();const{t}=useTranslation();const handleSuccessButtonClick=()=>{NotificationManager.success('Update Successful','Commission Rates',3000,{className:'customNotification'});};const handleErrorButtonClick=()=>{NotificationManager.error('Update Error','Commission Rates',3000,{className:'customNotification'});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(NotificationContainer,{}),/*#__PURE__*/_jsx(Grid,{item:true,lg:8,children:/*#__PURE__*/_jsx(Container,{className:globalClasses.flex,fluid:true,children:/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.text,children:t('CommissionRates')})}),/*#__PURE__*/_jsxs(Box,{className:classes.form,children:[errorQuery?/*#__PURE__*/_jsxs(\"span\",{children:[\"error \",errorQuery.message]}):null,loadingQuery?/*#__PURE__*/_jsx(CustomLoader,{}):data&&/*#__PURE__*/_jsxs(_Fragment,{children:[data.restaurants.map(restaurant=>/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:5,mt:3,children:restaurant.name}),/*#__PURE__*/_jsx(Grid,{item:true,sm:4,children:/*#__PURE__*/_jsx(Input,{disableUnderline:true,className:globalClasses.input,id:restaurant._id,placeholder:t('PHCommission'),inputProps:{min:0},type:\"number\",step:\"1\",defaultValue:restaurant.commissionRate})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:3,children:[/*#__PURE__*/_jsx(Button,{className:globalClasses.button,onClick:()=>{const result=getValues(restaurant._id);mutate({variables:result,onCompleted:data=>{handleSuccessButtonClick();}});},children:t('Save')}),error&&/*#__PURE__*/_jsx(\"span\",{children:error.message})]})]},restaurant._id)),/*#__PURE__*/_jsx(Box,{mt:2,children:error&&handleErrorButtonClick()})]})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:4,sx:{display:{xs:'none',lg:'block'}},mt:5,ml:-3,order:{xs:1,lg:2},children:/*#__PURE__*/_jsx(CommissionIcon,{})})]})]});};export default withTranslation()(Commission);","map":{"version":3,"names":["React","useQuery","useMutation","gql","Header","restaurants","updateCommission","CustomLoader","useGlobalStyles","Container","Box","Typography","Grid","Input","Button","useStyles","NotificationContainer","NotificationManager","ReactComponent","CommissionIcon","useTranslation","withTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GET_RESTAURANTS","_templateObject","_taggedTemplateLiteral","UPDATE_COMMISSION","_templateObject2","Commission","getValues","id","commissionRate","document","getElementById","value","mutate","error","data","errorQuery","loading","loadingQuery","console","log","globalClasses","classes","t","handleSuccessButtonClick","success","className","handleErrorButtonClick","children","container","item","lg","flex","fluid","heading","variant","text","form","message","map","restaurant","spacing","sm","mt","name","disableUnderline","input","_id","placeholder","inputProps","min","type","step","defaultValue","button","onClick","result","variables","onCompleted","sx","display","xs","ml","order"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/views/Commission.jsx"],"sourcesContent":["import React from 'react'\nimport { useQuery, useMutation, gql } from '@apollo/client'\nimport Header from '../components/Headers/Header'\nimport { restaurants, updateCommission } from '../apollo'\nimport CustomLoader from '../components/Loader/CustomLoader'\nimport useGlobalStyles from '../utils/globalStyles'\nimport { Container, Box, Typography, Grid, Input, Button } from '@mui/material'\nimport useStyles from '../components/Rider/styles'\nimport { NotificationContainer, NotificationManager } from 'react-notifications'\nimport 'react-notifications/lib/notifications.css'\nimport { ReactComponent as CommissionIcon } from '../assets/svg/svg/CommisionRate.svg'\nimport { useTranslation, withTranslation } from 'react-i18next'\n\nconst GET_RESTAURANTS = gql`\n  ${restaurants}\n`\nconst UPDATE_COMMISSION = gql`\n  ${updateCommission}\n`\nconst Commission = () => {\n  const getValues = id => {\n    const commissionRate = document.getElementById(id).value\n    return { id, commissionRate: +commissionRate }\n  }\n  const [mutate, { error }] = useMutation(UPDATE_COMMISSION)\n\n  const { data, error: errorQuery, loading: loadingQuery } = useQuery(\n    GET_RESTAURANTS\n  )\n  console.log(data)\n  const globalClasses = useGlobalStyles()\n  const classes = useStyles()\n  const { t } = useTranslation()\n  const handleSuccessButtonClick = () => {\n    NotificationManager.success('Update Successful', 'Commission Rates', 3000, {\n      className: 'customNotification'\n    })\n  }\n  const handleErrorButtonClick = () => {\n    NotificationManager.error('Update Error', 'Commission Rates', 3000, {\n      className: 'customNotification'\n    })\n  }\n\n  return (\n    <>\n      <Header />\n      <Grid container>\n        <NotificationContainer />\n        <Grid item lg={8}>\n          <Container className={globalClasses.flex} fluid>\n            <Box container className={classes.container}>\n              <Box item className={classes.heading}>\n                <Typography variant=\"h6\" className={classes.text}>\n                  {t('CommissionRates')}\n                </Typography>\n              </Box>\n              <Box className={classes.form}>\n                {errorQuery ? <span>error {errorQuery.message}</span> : null}\n                {loadingQuery ? (\n                  <CustomLoader />\n                ) : (\n                  data && (\n                    <>\n                      {data.restaurants.map(restaurant => (\n                        <Grid key={restaurant._id} container spacing={1}>\n                          <Grid item sm={5} mt={3}>\n                            {restaurant.name}\n                          </Grid>\n                          <Grid item sm={4}>\n                            <Input\n                              disableUnderline\n                              className={globalClasses.input}\n                              id={restaurant._id}\n                              placeholder={t('PHCommission')}\n                              inputProps={{ min: 0 }}\n                              type=\"number\"\n                              step=\"1\"\n                              defaultValue={restaurant.commissionRate}\n                            />\n                          </Grid>\n                          <Grid item sm={3}>\n                            <Button\n                              className={globalClasses.button}\n                              onClick={() => {\n                                const result = getValues(restaurant._id)\n                                mutate({\n                                  variables: result,\n                                  onCompleted: data => {\n                                    handleSuccessButtonClick()\n                                  }\n                                })\n                              }}>\n                              {t('Save')}\n                            </Button>\n                            {error && <span>{error.message}</span>}\n                          </Grid>\n                        </Grid>\n                      ))}\n                      <Box mt={2}>{error && handleErrorButtonClick()}</Box>\n                    </>\n                  )\n                )}\n              </Box>\n            </Box>\n          </Container>\n        </Grid>\n        <Grid\n          item\n          lg={4}\n          sx={{ display: { xs: 'none', lg: 'block' } }}\n          mt={5}\n          ml={-3}\n          order={{ xs: 1, lg: 2 }}>\n          <CommissionIcon />\n        </Grid>\n      </Grid>\n    </>\n  )\n}\nexport default withTranslation()(Commission)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}