{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from'react';import{useQuery,gql}from'@apollo/client';import{withTranslation,useTranslation}from'react-i18next';import{Container,Box,Typography,Button}from'@mui/material';import Header from'../components/Headers/Header';import ConfigurableValues from'../config/constants';import{getRestaurantProfile}from'../apollo';import useGlobalStyles from'../utils/globalStyles';import useStyles from'../components/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const RESTAURANT=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),getRestaurantProfile);const Payment=()=>{const{SERVER_URL}=ConfigurableValues();const{t}=useTranslation();const restaurantId=localStorage.getItem('restaurantId');const{data,error:errorQuery,loading:loadingQuery}=useQuery(RESTAURANT,{variables:{id:restaurantId}});const submitStripeDetails=()=>{fetch(SERVER_URL+'/stripe/account',{method:'POST',body:JSON.stringify({restaurantId}),headers:{'content-type':'application/json'}}).then(response=>response.json()).then(data=>{window.location=data.url;}).catch(error=>{console.log('error',error);});};const globalClasses=useGlobalStyles();const classes=useStyles();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Container,{className:globalClasses.flex,children:/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading2,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.textWhite,children:t('Delivery Rate')})})}),/*#__PURE__*/_jsxs(Box,{className:classes.form,children:[loadingQuery&&/*#__PURE__*/_jsx(\"span\",{children:t('LoadingDots')}),errorQuery&&/*#__PURE__*/_jsx(\"span\",{children:errorQuery.message}),data&&data.restaurant.stripeDetailsSubmitted&&/*#__PURE__*/_jsx(Typography,{children:t('StripeDetailsAttached')}),/*#__PURE__*/_jsx(Box,{mt:3,mb:3,children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loadingQuery,onClick:submitStripeDetails,children:data&&data.restaurant.stripeDetailsSubmitted?t('EditStripeDetails'):t('SubmitStripeDetails')})})]})]})})]});};export default withTranslation()(Payment);","map":{"version":3,"names":["React","useQuery","gql","withTranslation","useTranslation","Container","Box","Typography","Button","Header","ConfigurableValues","getRestaurantProfile","useGlobalStyles","useStyles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RESTAURANT","_templateObject","_taggedTemplateLiteral","Payment","SERVER_URL","t","restaurantId","localStorage","getItem","data","error","errorQuery","loading","loadingQuery","variables","id","submitStripeDetails","fetch","method","body","JSON","stringify","headers","then","response","json","window","location","url","catch","console","log","globalClasses","classes","children","className","flex","container","flexRow","item","heading2","variant","textWhite","form","message","restaurant","stripeDetailsSubmitted","mt","mb","button","disabled","onClick"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/views/Payment.jsx"],"sourcesContent":["import React from 'react'\nimport { useQuery, gql } from '@apollo/client'\nimport { withTranslation, useTranslation } from 'react-i18next'\nimport { Container, Box, Typography, Button } from '@mui/material'\nimport Header from '../components/Headers/Header'\nimport ConfigurableValues from '../config/constants'\nimport { getRestaurantProfile } from '../apollo'\nimport useGlobalStyles from '../utils/globalStyles'\nimport useStyles from '../components/styles'\nconst RESTAURANT = gql`\n  ${getRestaurantProfile}\n`\nconst Payment = () => {\n  const { SERVER_URL } = ConfigurableValues()\n\n  const { t } = useTranslation()\n\n  const restaurantId = localStorage.getItem('restaurantId')\n\n  const { data, error: errorQuery, loading: loadingQuery } = useQuery(\n    RESTAURANT,\n    {\n      variables: { id: restaurantId }\n    }\n  )\n  const submitStripeDetails = () => {\n    fetch(SERVER_URL + '/stripe/account', {\n      method: 'POST',\n      body: JSON.stringify({ restaurantId }),\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n      .then(response => response.json())\n      .then(data => {\n        window.location = data.url\n      })\n      .catch(error => {\n        console.log('error', error)\n      })\n  }\n  const globalClasses = useGlobalStyles()\n  const classes = useStyles()\n  return (\n    <>\n      <Header />\n      <Container className={globalClasses.flex}>\n        <Box container className={classes.container}>\n          <Box className={classes.flexRow}>\n            <Box item className={classes.heading2}>\n              <Typography variant=\"h6\" className={classes.textWhite}>\n                {t('Delivery Rate')}\n              </Typography>\n            </Box>\n          </Box>\n\n          <Box className={classes.form}>\n            {loadingQuery && <span>{t('LoadingDots')}</span>}\n            {errorQuery && <span>{errorQuery.message}</span>}\n            {data && data.restaurant.stripeDetailsSubmitted && (\n              <Typography>{t('StripeDetailsAttached')}</Typography>\n            )}\n            <Box mt={3} mb={3}>\n              <Button\n                className={globalClasses.button}\n                disabled={loadingQuery}\n                onClick={submitStripeDetails}>\n                {data && data.restaurant.stripeDetailsSubmitted\n                  ? t('EditStripeDetails')\n                  : t('SubmitStripeDetails')}\n              </Button>\n            </Box>\n          </Box>\n        </Box>\n      </Container>\n    </>\n  )\n}\nexport default withTranslation()(Payment)\n"],"mappings":"+MAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,GAAG,KAAQ,gBAAgB,CAC9C,OAASC,eAAe,CAAEC,cAAc,KAAQ,eAAe,CAC/D,OAASC,SAAS,CAAEC,GAAG,CAAEC,UAAU,CAAEC,MAAM,KAAQ,eAAe,CAClE,MAAO,CAAAC,MAAM,KAAM,8BAA8B,CACjD,MAAO,CAAAC,kBAAkB,KAAM,qBAAqB,CACpD,OAASC,oBAAoB,KAAQ,WAAW,CAChD,MAAO,CAAAC,eAAe,KAAM,uBAAuB,CACnD,MAAO,CAAAC,SAAS,KAAM,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAC5C,KAAM,CAAAC,UAAU,CAAGlB,GAAG,CAAAmB,eAAA,GAAAA,eAAA,CAAAC,sBAAA,iBAClBX,oBAAoB,CACvB,CACD,KAAM,CAAAY,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,UAAW,CAAC,CAAGd,kBAAkB,CAAC,CAAC,CAE3C,KAAM,CAAEe,CAAE,CAAC,CAAGrB,cAAc,CAAC,CAAC,CAE9B,KAAM,CAAAsB,YAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAEzD,KAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,UAAU,CAAEC,OAAO,CAAEC,YAAa,CAAC,CAAGhC,QAAQ,CACjEmB,UAAU,CACV,CACEc,SAAS,CAAE,CAAEC,EAAE,CAAET,YAAa,CAChC,CACF,CAAC,CACD,KAAM,CAAAU,mBAAmB,CAAGA,CAAA,GAAM,CAChCC,KAAK,CAACb,UAAU,CAAG,iBAAiB,CAAE,CACpCc,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEf,YAAa,CAAC,CAAC,CACtCgB,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACCC,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACd,IAAI,EAAI,CACZiB,MAAM,CAACC,QAAQ,CAAGlB,IAAI,CAACmB,GAAG,CAC5B,CAAC,CAAC,CACDC,KAAK,CAACnB,KAAK,EAAI,CACdoB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAErB,KAAK,CAAC,CAC7B,CAAC,CAAC,CACN,CAAC,CACD,KAAM,CAAAsB,aAAa,CAAGxC,eAAe,CAAC,CAAC,CACvC,KAAM,CAAAyC,OAAO,CAAGxC,SAAS,CAAC,CAAC,CAC3B,mBACEI,KAAA,CAAAE,SAAA,EAAAmC,QAAA,eACEvC,IAAA,CAACN,MAAM,GAAE,CAAC,cACVM,IAAA,CAACV,SAAS,EAACkD,SAAS,CAAEH,aAAa,CAACI,IAAK,CAAAF,QAAA,cACvCrC,KAAA,CAACX,GAAG,EAACmD,SAAS,MAACF,SAAS,CAAEF,OAAO,CAACI,SAAU,CAAAH,QAAA,eAC1CvC,IAAA,CAACT,GAAG,EAACiD,SAAS,CAAEF,OAAO,CAACK,OAAQ,CAAAJ,QAAA,cAC9BvC,IAAA,CAACT,GAAG,EAACqD,IAAI,MAACJ,SAAS,CAAEF,OAAO,CAACO,QAAS,CAAAN,QAAA,cACpCvC,IAAA,CAACR,UAAU,EAACsD,OAAO,CAAC,IAAI,CAACN,SAAS,CAAEF,OAAO,CAACS,SAAU,CAAAR,QAAA,CACnD7B,CAAC,CAAC,eAAe,CAAC,CACT,CAAC,CACV,CAAC,CACH,CAAC,cAENR,KAAA,CAACX,GAAG,EAACiD,SAAS,CAAEF,OAAO,CAACU,IAAK,CAAAT,QAAA,EAC1BrB,YAAY,eAAIlB,IAAA,SAAAuC,QAAA,CAAO7B,CAAC,CAAC,aAAa,CAAC,CAAO,CAAC,CAC/CM,UAAU,eAAIhB,IAAA,SAAAuC,QAAA,CAAOvB,UAAU,CAACiC,OAAO,CAAO,CAAC,CAC/CnC,IAAI,EAAIA,IAAI,CAACoC,UAAU,CAACC,sBAAsB,eAC7CnD,IAAA,CAACR,UAAU,EAAA+C,QAAA,CAAE7B,CAAC,CAAC,uBAAuB,CAAC,CAAa,CACrD,cACDV,IAAA,CAACT,GAAG,EAAC6D,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAd,QAAA,cAChBvC,IAAA,CAACP,MAAM,EACL+C,SAAS,CAAEH,aAAa,CAACiB,MAAO,CAChCC,QAAQ,CAAErC,YAAa,CACvBsC,OAAO,CAAEnC,mBAAoB,CAAAkB,QAAA,CAC5BzB,IAAI,EAAIA,IAAI,CAACoC,UAAU,CAACC,sBAAsB,CAC3CzC,CAAC,CAAC,mBAAmB,CAAC,CACtBA,CAAC,CAAC,qBAAqB,CAAC,CACtB,CAAC,CACN,CAAC,EACH,CAAC,EACH,CAAC,CACG,CAAC,EACZ,CAAC,CAEP,CAAC,CACD,cAAe,CAAAtB,eAAe,CAAC,CAAC,CAACoB,OAAO,CAAC"},"metadata":{},"sourceType":"module"}