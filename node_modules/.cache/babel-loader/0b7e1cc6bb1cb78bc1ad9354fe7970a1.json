{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState}from'react';import{useMutation,gql}from'@apollo/client';import{withTranslation}from'react-i18next';import{Box,Typography,Input,Button,Alert}from'@mui/material';import{editCategory,createCategory}from'../../apollo';import useGlobalStyles from'../../utils/globalStyles';import useStyles from'../styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CREATE_CATEGORY=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),createCategory);const EDIT_CATEGORY=gql(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),editCategory);function Category(props){const mutation=props.category?EDIT_CATEGORY:CREATE_CATEGORY;const[mainError,mainErrorSetter]=useState('');const[success,successSetter]=useState('');const[category,setCategory]=useState(props.category?props.category.title:'');const restaurantId=localStorage.getItem('restaurantId');const onCompleted=data=>{const message=props.category?t('CategoryUpdatedSuccessfully'):t('CategoryAddedSuccessfully');successSetter(message);mainErrorSetter('');setCategory('');setTimeout(hideAlert,3000);};const onError=error=>{const message=\"\".concat(t('ActionFailedTryAgain'),\" \").concat(error);successSetter('');mainErrorSetter(message);setTimeout(hideAlert,3000);};const[mutate,{loading}]=useMutation(mutation,{onError,onCompleted});const hideAlert=()=>{mainErrorSetter('');successSetter('');};const{t}=props;const classes=useStyles();const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:props.category?classes.headingBlack:classes.heading2,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.textWhite,children:props.category?t('Edit Category'):t('Add Category')})})}),/*#__PURE__*/_jsx(Box,{className:classes.form,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:t('Name')}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-category\",name:\"input-category\",placeholder:t('PHCategory'),type:\"text\",defaultValue:category,onChange:e=>{setCategory(e.target.value);},disableUnderline:true,className:globalClasses.input})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loading,onClick:async e=>{e.preventDefault();if(!loading){mutate({variables:{category:{_id:props.category?props.category._id:'',title:category,restaurant:restaurantId}}});// Close the modal after 3 seconds by calling the parent's onClose callback\nsetTimeout(()=>{// props.onClose(); // Close the modal\n},4000);}},children:t('Save')})}),/*#__PURE__*/_jsxs(Box,{mt:2,children:[success&&/*#__PURE__*/_jsx(Alert,{className:globalClasses.alertSuccess,variant:\"filled\",severity:\"success\",children:success}),mainError&&/*#__PURE__*/_jsx(Alert,{className:globalClasses.alertError,variant:\"filled\",severity:\"error\",children:mainError})]})]})})]});}export default withTranslation()(Category);","map":{"version":3,"names":["React","useState","useMutation","gql","withTranslation","Box","Typography","Input","Button","Alert","editCategory","createCategory","useGlobalStyles","useStyles","jsx","_jsx","jsxs","_jsxs","CREATE_CATEGORY","_templateObject","_taggedTemplateLiteral","EDIT_CATEGORY","_templateObject2","Category","props","mutation","category","mainError","mainErrorSetter","success","successSetter","setCategory","title","restaurantId","localStorage","getItem","onCompleted","data","message","t","setTimeout","hideAlert","onError","error","concat","mutate","loading","classes","globalClasses","container","className","children","flexRow","item","headingBlack","heading2","variant","textWhite","form","labelText","style","marginTop","id","name","placeholder","type","defaultValue","onChange","e","target","value","disableUnderline","input","button","disabled","onClick","preventDefault","variables","_id","restaurant","mt","alertSuccess","severity","alertError"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/components/Category/Category.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useMutation, gql } from '@apollo/client'\nimport { withTranslation } from 'react-i18next'\n\nimport { Box, Typography, Input, Button, Alert } from '@mui/material'\n\nimport { editCategory, createCategory } from '../../apollo'\nimport useGlobalStyles from '../../utils/globalStyles'\nimport useStyles from '../styles'\n\nconst CREATE_CATEGORY = gql`\n  ${createCategory}\n`\nconst EDIT_CATEGORY = gql`\n  ${editCategory}\n`\n\nfunction Category(props) {\n  const mutation = props.category ? EDIT_CATEGORY : CREATE_CATEGORY\n  const [mainError, mainErrorSetter] = useState('')\n  const [success, successSetter] = useState('')\n  const [category, setCategory] = useState(\n    props.category ? props.category.title : ''\n  )\n  const restaurantId = localStorage.getItem('restaurantId')\n  const onCompleted = data => {\n    const message = props.category\n      ? t('CategoryUpdatedSuccessfully')\n      : t('CategoryAddedSuccessfully')\n    successSetter(message)\n    mainErrorSetter('')\n    setCategory('')\n    setTimeout(hideAlert, 3000)\n  }\n  const onError = error => {\n    const message = `${t('ActionFailedTryAgain')} ${error}`\n    successSetter('')\n    mainErrorSetter(message)\n    setTimeout(hideAlert, 3000)\n  }\n  const [mutate, { loading }] = useMutation(mutation, { onError, onCompleted })\n  const hideAlert = () => {\n    mainErrorSetter('')\n    successSetter('')\n  }\n  const { t } = props\n  const classes = useStyles()\n  const globalClasses = useGlobalStyles()\n\n  return (\n    <Box container className={classes.container}>\n      <Box className={classes.flexRow}>\n        <Box\n          item\n          className={props.category ? classes.headingBlack : classes.heading2}>\n          <Typography variant=\"h6\" className={classes.textWhite}>\n            {props.category ? t('Edit Category') : t('Add Category')}\n          </Typography>\n        </Box>\n      </Box>\n      <Box className={classes.form}>\n        <form>\n          <Box>\n            <Typography className={classes.labelText}>{t('Name')}</Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              id=\"input-category\"\n              name=\"input-category\"\n              placeholder={t('PHCategory')}\n              type=\"text\"\n              defaultValue={category}\n              onChange={e => {\n                setCategory(e.target.value)\n              }}\n              disableUnderline\n              className={globalClasses.input}\n            />\n          </Box>\n          <Box>\n            <Button\n              className={globalClasses.button}\n              disabled={loading}\n              onClick={async e => {\n                e.preventDefault()\n                if (!loading) {\n                  mutate({\n                    variables: {\n                      category: {\n                        _id: props.category ? props.category._id : '',\n                        title: category,\n                        restaurant: restaurantId\n                      }\n                    }\n                  })\n                  // Close the modal after 3 seconds by calling the parent's onClose callback\n                  setTimeout(() => {\n                    // props.onClose(); // Close the modal\n                  }, 4000)\n                }\n              }}>\n              {t('Save')}\n            </Button>\n          </Box>\n          <Box mt={2}>\n            {success && (\n              <Alert\n                className={globalClasses.alertSuccess}\n                variant=\"filled\"\n                severity=\"success\">\n                {success}\n              </Alert>\n            )}\n            {mainError && (\n              <Alert\n                className={globalClasses.alertError}\n                variant=\"filled\"\n                severity=\"error\">\n                {mainError}\n              </Alert>\n            )}\n          </Box>\n        </form>\n      </Box>\n    </Box>\n  )\n}\n\nexport default withTranslation()(Category)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}