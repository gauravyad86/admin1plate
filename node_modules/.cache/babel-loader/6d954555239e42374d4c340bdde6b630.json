{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useRef,useState}from'react';import{withTranslation}from'react-i18next';import{useMutation,gql}from'@apollo/client';import{validateFunc}from'../../../constraints/constraints';import{saveAmplitudeApiKeyConfiguration}from'../../../apollo';import useStyles from'../styles';import useGlobalStyles from'../../../utils/globalStyles';import{Box,Typography,Input,Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SAVE_AMPLITUDE_API_KEY_CONFIGURATION=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),saveAmplitudeApiKeyConfiguration);function AmplitudeApiKeyConfiguration(props){const formRef=useRef();const[webAmplitudeApiKey]=useState(props.webAmplitudeApiKey||'');const[appAmplitudeApiKey]=useState(props.appAmplitudeApiKey||'');const[webAmplitudeApiKeyError,setWebAmplitudeApiKeyError]=useState(null);const[appAmplitudeApiKeyError,setAppAmplitudeApiKeyError]=useState(null);const[mutate,{loading}]=useMutation(SAVE_AMPLITUDE_API_KEY_CONFIGURATION);const onBlur=(setter,field,state)=>{setter(!validateFunc({[field]:state},field));};const validateInput=()=>{let webAmplitudeApiKeyResult=true;let appAmplitudeApiKeyResult=true;webAmplitudeApiKeyResult=!validateFunc({webAmplitudeApiKey:formRef.current['input-webAmplitudeApiKey'].value},'webAmplitudeApiKey');appAmplitudeApiKeyResult=!validateFunc({appAmplitudeApiKey:formRef.current['input-appAmplitudeApiKey'].value},'appAmplitudeApiKey');setWebAmplitudeApiKeyError(webAmplitudeApiKeyResult);setAppAmplitudeApiKeyError(appAmplitudeApiKeyResult);return webAmplitudeApiKeyResult&&appAmplitudeApiKeyResult;};const classes=useStyles();const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.text,children:\"Amplitude API Key\"})})}),/*#__PURE__*/_jsx(Box,{className:classes.form,children:/*#__PURE__*/_jsxs(\"form\",{ref:formRef,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"Web Amplitude API Key\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-webAmplitudeApiKey\",name:\"input-webAmplitudeApiKey\",placeholder:\"Web Amplitude API Key\",type:\"password\",defaultValue:webAmplitudeApiKey,onBlur:event=>onBlur(setWebAmplitudeApiKeyError,'webAmplitudeApiKey',event.target.value),disableUnderline:true,className:[globalClasses.input,webAmplitudeApiKeyError===false?globalClasses.inputError:webAmplitudeApiKeyError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"App Amplitude API Key\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-appAmplitudeApiKey\",name:\"input-appAmplitudeApiKey\",placeholder:\"App Amplitude API Key\",type:\"password\",defaultValue:appAmplitudeApiKey,onBlur:event=>onBlur(setAppAmplitudeApiKeyError,'appAmplitudeApiKey',event.target.value),disableUnderline:true,className:[globalClasses.input,appAmplitudeApiKeyError===false?globalClasses.inputError:appAmplitudeApiKeyError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loading,onClick:e=>{e.preventDefault();if(validateInput()&&!loading){mutate({variables:{configurationInput:{webAmplitudeApiKey:formRef.current['input-webAmplitudeApiKey'].value,appAmplitudeApiKey:formRef.current['input-appAmplitudeApiKey'].value}}});}},children:\"SAVE\"})})]})})]});}export default withTranslation()(AmplitudeApiKeyConfiguration);","map":{"version":3,"names":["React","useRef","useState","withTranslation","useMutation","gql","validateFunc","saveAmplitudeApiKeyConfiguration","useStyles","useGlobalStyles","Box","Typography","Input","Button","jsx","_jsx","jsxs","_jsxs","SAVE_AMPLITUDE_API_KEY_CONFIGURATION","_templateObject","_taggedTemplateLiteral","AmplitudeApiKeyConfiguration","props","formRef","webAmplitudeApiKey","appAmplitudeApiKey","webAmplitudeApiKeyError","setWebAmplitudeApiKeyError","appAmplitudeApiKeyError","setAppAmplitudeApiKeyError","mutate","loading","onBlur","setter","field","state","validateInput","webAmplitudeApiKeyResult","appAmplitudeApiKeyResult","current","value","classes","globalClasses","container","className","children","flexRow","item","heading","variant","text","form","ref","labelText","style","marginTop","id","name","placeholder","type","defaultValue","event","target","disableUnderline","input","inputError","inputSuccess","button","disabled","onClick","e","preventDefault","variables","configurationInput"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/components/Configuration/Amplitude/Amplitude.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { useMutation, gql } from '@apollo/client'\nimport { validateFunc } from '../../../constraints/constraints'\nimport { saveAmplitudeApiKeyConfiguration } from '../../../apollo'\nimport useStyles from '../styles'\nimport useGlobalStyles from '../../../utils/globalStyles'\nimport { Box, Typography, Input, Button } from '@mui/material'\n\nconst SAVE_AMPLITUDE_API_KEY_CONFIGURATION = gql`\n  ${saveAmplitudeApiKeyConfiguration}\n`\n\nfunction AmplitudeApiKeyConfiguration(props) {\n  const formRef = useRef()\n  const [webAmplitudeApiKey] = useState(props.webAmplitudeApiKey || '')\n  const [appAmplitudeApiKey] = useState(props.appAmplitudeApiKey || '')\n\n  const [webAmplitudeApiKeyError, setWebAmplitudeApiKeyError] = useState(null)\n  const [appAmplitudeApiKeyError, setAppAmplitudeApiKeyError] = useState(null)\n\n  const [mutate, { loading }] = useMutation(\n    SAVE_AMPLITUDE_API_KEY_CONFIGURATION\n  )\n\n  const onBlur = (setter, field, state) => {\n    setter(!validateFunc({ [field]: state }, field))\n  }\n\n  const validateInput = () => {\n    let webAmplitudeApiKeyResult = true\n    let appAmplitudeApiKeyResult = true\n\n    webAmplitudeApiKeyResult = !validateFunc(\n      { webAmplitudeApiKey: formRef.current['input-webAmplitudeApiKey'].value },\n      'webAmplitudeApiKey'\n    )\n    appAmplitudeApiKeyResult = !validateFunc(\n      { appAmplitudeApiKey: formRef.current['input-appAmplitudeApiKey'].value },\n      'appAmplitudeApiKey'\n    )\n\n    setWebAmplitudeApiKeyError(webAmplitudeApiKeyResult)\n    setAppAmplitudeApiKeyError(appAmplitudeApiKeyResult)\n\n    return webAmplitudeApiKeyResult && appAmplitudeApiKeyResult\n  }\n\n  const classes = useStyles()\n  const globalClasses = useGlobalStyles()\n\n  return (\n    <Box container className={classes.container}>\n      <Box className={classes.flexRow}>\n        <Box item className={classes.heading}>\n          <Typography variant=\"h6\" className={classes.text}>\n            Amplitude API Key\n          </Typography>\n        </Box>\n      </Box>\n\n      <Box className={classes.form}>\n        <form ref={formRef}>\n          <Box>\n            <Typography className={classes.labelText}>\n              Web Amplitude API Key\n            </Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              id=\"input-webAmplitudeApiKey\"\n              name=\"input-webAmplitudeApiKey\"\n              placeholder=\"Web Amplitude API Key\"\n              type=\"password\"\n              defaultValue={webAmplitudeApiKey}\n              onBlur={event =>\n                onBlur(\n                  setWebAmplitudeApiKeyError,\n                  'webAmplitudeApiKey',\n                  event.target.value\n                )\n              }\n              disableUnderline\n              className={[\n                globalClasses.input,\n                webAmplitudeApiKeyError === false\n                  ? globalClasses.inputError\n                  : webAmplitudeApiKeyError === true\n                  ? globalClasses.inputSuccess\n                  : ''\n              ]}\n            />\n          </Box>\n          <Box>\n            <Typography className={classes.labelText}>\n              App Amplitude API Key\n            </Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              id=\"input-appAmplitudeApiKey\"\n              name=\"input-appAmplitudeApiKey\"\n              placeholder=\"App Amplitude API Key\"\n              type=\"password\"\n              defaultValue={appAmplitudeApiKey}\n              onBlur={event =>\n                onBlur(\n                  setAppAmplitudeApiKeyError,\n                  'appAmplitudeApiKey',\n                  event.target.value\n                )\n              }\n              disableUnderline\n              className={[\n                globalClasses.input,\n                appAmplitudeApiKeyError === false\n                  ? globalClasses.inputError\n                  : appAmplitudeApiKeyError === true\n                  ? globalClasses.inputSuccess\n                  : ''\n              ]}\n            />\n          </Box>\n          <Box>\n            <Button\n              className={globalClasses.button}\n              disabled={loading}\n              onClick={e => {\n                e.preventDefault()\n                if (validateInput() && !loading) {\n                  mutate({\n                    variables: {\n                      configurationInput: {\n                        webAmplitudeApiKey:\n                          formRef.current['input-webAmplitudeApiKey'].value,\n                        appAmplitudeApiKey:\n                          formRef.current['input-appAmplitudeApiKey'].value\n                      }\n                    }\n                  })\n                }\n              }}>\n              SAVE\n            </Button>\n          </Box>\n        </form>\n      </Box>\n    </Box>\n  )\n}\n\nexport default withTranslation()(AmplitudeApiKeyConfiguration)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}