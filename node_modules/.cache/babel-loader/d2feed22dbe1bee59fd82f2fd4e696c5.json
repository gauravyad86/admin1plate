{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;// AppConfigurations.jsx\nimport React,{useRef,useState}from'react';import{withTranslation}from'react-i18next';import{useMutation,gql}from'@apollo/client';import{validateFunc}from'../../../constraints/constraints';import{saveAppConfiguration}from'../../../apollo';// Update with the correct import path\nimport useStyles from'../styles';import useGlobalStyles from'../../../utils/globalStyles';import{Box,Typography,Input,Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SAVE_APP_CONFIGURATION=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),saveAppConfiguration);function AppConfigurations(props){const formRef=useRef();const[termsAndConditions]=useState(props.termsAndConditions||'');const[privacyPolicy]=useState(props.privacyPolicy||'');const[testOtp]=useState(props.testOtp||'');const[termsAndConditionsError,setTermsAndConditionsError]=useState(null);const[privacyPolicyError,setPrivacyPolicyError]=useState(null);const[testOtpError,setTestOtpError]=useState(null);const[mutate,{loading}]=useMutation(SAVE_APP_CONFIGURATION);const onBlur=(setter,field,state)=>{setter(!validateFunc({[field]:state},field));};const validateInput=()=>{let termsAndConditionsResult=true;let privacyPolicyResult=true;let testOtpResult=true;termsAndConditionsResult=!validateFunc({termsAndConditions:formRef.current['input-termsAndConditions'].value},'termsAndConditions');privacyPolicyResult=!validateFunc({privacyPolicy:formRef.current['input-privacyPolicy'].value},'privacyPolicy');testOtpResult=!validateFunc({testOtp:formRef.current['input-testOtp'].value},'testOtp');setTermsAndConditionsError(termsAndConditionsResult);setPrivacyPolicyError(privacyPolicyResult);setTestOtpError(testOtpResult);return termsAndConditionsResult&&privacyPolicyResult&&testOtpResult;};const classes=useStyles();const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.text,children:\"APP Configuration\"})})}),/*#__PURE__*/_jsx(Box,{className:classes.form,children:/*#__PURE__*/_jsxs(\"form\",{ref:formRef,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"Terms and Conditions\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-termsAndConditions\",name:\"input-termsAndConditions\",placeholder:\"Terms and Conditions\",defaultValue:termsAndConditions,onBlur:event=>onBlur(setTermsAndConditionsError,'termsAndConditions',event.target.value),disableUnderline:true,className:[globalClasses.input,termsAndConditionsError===false?globalClasses.inputError:termsAndConditionsError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsxs(Box,{className:globalClasses.flexRow,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-privacyPolicy\",name:\"input-privacyPolicy\",placeholder:\"Privacy Policy\",defaultValue:privacyPolicy,onBlur:event=>onBlur(setPrivacyPolicyError,'privacyPolicy',event.target.value),disableUnderline:true,className:[globalClasses.input,privacyPolicyError===false?globalClasses.inputError:privacyPolicyError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"Test OTP\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-testOtp\",name:\"input-testOtp\",placeholder:\"Test OTP\",defaultValue:testOtp,onBlur:event=>onBlur(setTestOtpError,'testOtp',event.target.value),disableUnderline:true,className:[globalClasses.input,testOtpError===false?globalClasses.inputError:testOtpError===true?globalClasses.inputSuccess:'']})]})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loading,onClick:e=>{e.preventDefault();if(validateInput()&&!loading){mutate({variables:{configurationInput:{graphqlUrlApp:formRef.current['input-graphqlUrlApp'].value,wsGraphqlUrlApp:formRef.current['input-wsGraphqlUrlApp'].value,serverUrlApp:formRef.current['input-serverUrlApp'].value,termsAndConditions:formRef.current['input-termsAndConditions'].value,privacyPolicy:formRef.current['input-privacyPolicy'].value,testOtp:formRef.current['input-testOtp'].value}}});}},children:\"SAVE\"})})]})})]});}export default withTranslation()(AppConfigurations);","map":{"version":3,"names":["React","useRef","useState","withTranslation","useMutation","gql","validateFunc","saveAppConfiguration","useStyles","useGlobalStyles","Box","Typography","Input","Button","jsx","_jsx","jsxs","_jsxs","SAVE_APP_CONFIGURATION","_templateObject","_taggedTemplateLiteral","AppConfigurations","props","formRef","termsAndConditions","privacyPolicy","testOtp","termsAndConditionsError","setTermsAndConditionsError","privacyPolicyError","setPrivacyPolicyError","testOtpError","setTestOtpError","mutate","loading","onBlur","setter","field","state","validateInput","termsAndConditionsResult","privacyPolicyResult","testOtpResult","current","value","classes","globalClasses","container","className","children","flexRow","item","heading","variant","text","form","ref","labelText","style","marginTop","id","name","placeholder","defaultValue","event","target","disableUnderline","input","inputError","inputSuccess","button","disabled","onClick","e","preventDefault","variables","configurationInput","graphqlUrlApp","wsGraphqlUrlApp","serverUrlApp"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/components/Configuration/App/App.jsx"],"sourcesContent":["// AppConfigurations.jsx\n\nimport React, { useRef, useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { useMutation, gql } from '@apollo/client'\nimport { validateFunc } from '../../../constraints/constraints'\nimport { saveAppConfiguration } from '../../../apollo' // Update with the correct import path\nimport useStyles from '../styles'\nimport useGlobalStyles from '../../../utils/globalStyles'\nimport { Box, Typography, Input, Button } from '@mui/material'\n\nconst SAVE_APP_CONFIGURATION = gql`\n  ${saveAppConfiguration}\n`\n\nfunction AppConfigurations(props) {\n  const formRef = useRef()\n\n  const [termsAndConditions] = useState(props.termsAndConditions || '')\n  const [privacyPolicy] = useState(props.privacyPolicy || '')\n  const [testOtp] = useState(props.testOtp || '')\n\n  const [termsAndConditionsError, setTermsAndConditionsError] = useState(null)\n  const [privacyPolicyError, setPrivacyPolicyError] = useState(null)\n  const [testOtpError, setTestOtpError] = useState(null)\n\n  const [mutate, { loading }] = useMutation(SAVE_APP_CONFIGURATION)\n\n  const onBlur = (setter, field, state) => {\n    setter(!validateFunc({ [field]: state }, field))\n  }\n\n  const validateInput = () => {\n    let termsAndConditionsResult = true\n    let privacyPolicyResult = true\n    let testOtpResult = true\n\n    termsAndConditionsResult = !validateFunc(\n      { termsAndConditions: formRef.current['input-termsAndConditions'].value },\n      'termsAndConditions'\n    )\n    privacyPolicyResult = !validateFunc(\n      { privacyPolicy: formRef.current['input-privacyPolicy'].value },\n      'privacyPolicy'\n    )\n    testOtpResult = !validateFunc(\n      { testOtp: formRef.current['input-testOtp'].value },\n      'testOtp'\n    )\n\n    setTermsAndConditionsError(termsAndConditionsResult)\n    setPrivacyPolicyError(privacyPolicyResult)\n    setTestOtpError(testOtpResult)\n\n    return termsAndConditionsResult && privacyPolicyResult && testOtpResult\n  }\n\n  const classes = useStyles()\n  const globalClasses = useGlobalStyles()\n\n  return (\n    <Box container className={classes.container}>\n      <Box className={classes.flexRow}>\n        <Box item className={classes.heading}>\n          <Typography variant=\"h6\" className={classes.text}>\n            APP Configuration\n          </Typography>\n        </Box>\n      </Box>\n      <Box className={classes.form}>\n        <form ref={formRef}>\n          <Box>\n            <Typography className={classes.labelText}>\n              Terms and Conditions\n            </Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              id=\"input-termsAndConditions\"\n              name=\"input-termsAndConditions\"\n              placeholder=\"Terms and Conditions\"\n              defaultValue={termsAndConditions}\n              onBlur={event =>\n                onBlur(\n                  setTermsAndConditionsError,\n                  'termsAndConditions',\n                  event.target.value\n                )\n              }\n              disableUnderline\n              className={[\n                globalClasses.input,\n                termsAndConditionsError === false\n                  ? globalClasses.inputError\n                  : termsAndConditionsError === true\n                  ? globalClasses.inputSuccess\n                  : ''\n              ]}\n            />\n          </Box>\n          <Box className={globalClasses.flexRow}>\n            <Box>\n              <Typography className={classes.labelText}>\n                Privacy Policy\n              </Typography>\n              <Input\n                style={{ marginTop: -1 }}\n                id=\"input-privacyPolicy\"\n                name=\"input-privacyPolicy\"\n                placeholder=\"Privacy Policy\"\n                defaultValue={privacyPolicy}\n                onBlur={event =>\n                  onBlur(\n                    setPrivacyPolicyError,\n                    'privacyPolicy',\n                    event.target.value\n                  )\n                }\n                disableUnderline\n                className={[\n                  globalClasses.input,\n                  privacyPolicyError === false\n                    ? globalClasses.inputError\n                    : privacyPolicyError === true\n                    ? globalClasses.inputSuccess\n                    : ''\n                ]}\n              />\n            </Box>\n            <Box>\n              <Typography className={classes.labelText}>Test OTP</Typography>\n              <Input\n                style={{ marginTop: -1 }}\n                id=\"input-testOtp\"\n                name=\"input-testOtp\"\n                placeholder=\"Test OTP\"\n                defaultValue={testOtp}\n                onBlur={event =>\n                  onBlur(setTestOtpError, 'testOtp', event.target.value)\n                }\n                disableUnderline\n                className={[\n                  globalClasses.input,\n                  testOtpError === false\n                    ? globalClasses.inputError\n                    : testOtpError === true\n                    ? globalClasses.inputSuccess\n                    : ''\n                ]}\n              />\n            </Box>\n          </Box>\n          <Box>\n            <Button\n              className={globalClasses.button}\n              disabled={loading}\n              onClick={e => {\n                e.preventDefault()\n                if (validateInput() && !loading) {\n                  mutate({\n                    variables: {\n                      configurationInput: {\n                        graphqlUrlApp:\n                          formRef.current['input-graphqlUrlApp'].value,\n                        wsGraphqlUrlApp:\n                          formRef.current['input-wsGraphqlUrlApp'].value,\n                        serverUrlApp:\n                          formRef.current['input-serverUrlApp'].value,\n                        termsAndConditions:\n                          formRef.current['input-termsAndConditions'].value,\n                        privacyPolicy:\n                          formRef.current['input-privacyPolicy'].value,\n                        testOtp: formRef.current['input-testOtp'].value\n                      }\n                    }\n                  })\n                }\n              }}>\n              SAVE\n            </Button>\n          </Box>\n        </form>\n      </Box>\n    </Box>\n  )\n}\n\nexport default withTranslation()(AppConfigurations)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}