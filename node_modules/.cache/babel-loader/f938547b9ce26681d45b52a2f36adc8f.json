{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useRef,useState}from'react';import{withTranslation}from'react-i18next';import{useMutation,gql}from'@apollo/client';import{validateFunc}from'../../../constraints/constraints';import{saveFormEmailConfiguration}from'../../../apollo';import{Box,Typography,Input,Button,CircularProgress}from'@mui/material';import useStyles from'../styles';import useGlobalStyles from'../../../utils/globalStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SAVE_EMAIL_CONFIGURATION=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),saveFormEmailConfiguration);function EmailConfiguration(props){const formRef=useRef();const[email,setEmail]=useState(props.formEmail||'');const[emailError,setEmailError]=useState(null);const[mutate,{loading}]=useMutation(SAVE_EMAIL_CONFIGURATION);const validateInput=()=>{const emailErrors=!validateFunc({email:email},'email');setEmailError(emailErrors);return emailErrors;};const classes=useStyles();const globalClasses=useGlobalStyles();return/*#__PURE__*/_jsxs(Box,{container:true,className:classes.container,children:[/*#__PURE__*/_jsx(Box,{className:classes.flexRow,children:/*#__PURE__*/_jsx(Box,{item:true,className:classes.heading,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.text,children:\"Form Submission Email\"})})}),/*#__PURE__*/_jsx(Box,{className:classes.form,children:/*#__PURE__*/_jsxs(\"form\",{ref:formRef,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.labelText,children:\"Form Submission Email\"}),/*#__PURE__*/_jsx(Input,{style:{marginTop:-1},id:\"input-email\",name:\"input-email\",placeholder:\"Email address\",type:\"email\",value:email,onChange:e=>{setEmail(e.target.value);},disableUnderline:true,className:[globalClasses.input,emailError===false?globalClasses.inputError:emailError===true?globalClasses.inputSuccess:'']})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{className:globalClasses.button,disabled:loading,onClick:e=>{e.preventDefault();if(validateInput()){mutate({variables:{configurationInput:{formEmail:formRef.current['input-email'].value}}}).then(response=>{// Handle successful response\nconsole.log(response);}).catch(error=>{// Handle GraphQL errors\nconsole.error('GraphQL error:',error.message);});}},children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24,color:\"primary\"}):'SAVE'})})]})})]});}export default withTranslation()(EmailConfiguration);","map":{"version":3,"names":["React","useRef","useState","withTranslation","useMutation","gql","validateFunc","saveFormEmailConfiguration","Box","Typography","Input","Button","CircularProgress","useStyles","useGlobalStyles","jsx","_jsx","jsxs","_jsxs","SAVE_EMAIL_CONFIGURATION","_templateObject","_taggedTemplateLiteral","EmailConfiguration","props","formRef","email","setEmail","formEmail","emailError","setEmailError","mutate","loading","validateInput","emailErrors","classes","globalClasses","container","className","children","flexRow","item","heading","variant","text","form","ref","labelText","style","marginTop","id","name","placeholder","type","value","onChange","e","target","disableUnderline","input","inputError","inputSuccess","button","disabled","onClick","preventDefault","variables","configurationInput","current","then","response","console","log","catch","error","message","size","color"],"sources":["/Users/gauravyadav/Downloads/food-delivery-multivendor-main/enatega-multivendor-admin/src/components/Configuration/FormEmail/FormEmail.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport { withTranslation } from 'react-i18next'\nimport { useMutation, gql } from '@apollo/client'\nimport { validateFunc } from '../../../constraints/constraints'\nimport { saveFormEmailConfiguration } from '../../../apollo'\nimport { Box, Typography, Input, Button, CircularProgress } from '@mui/material'\nimport useStyles from '../styles'\nimport useGlobalStyles from '../../../utils/globalStyles'\n\nconst SAVE_EMAIL_CONFIGURATION = gql`\n  ${saveFormEmailConfiguration}\n`\n\nfunction EmailConfiguration(props) {\n  const formRef = useRef()\n  const [email, setEmail] = useState(props.formEmail || '')\n  const [emailError, setEmailError] = useState(null)\n  const [mutate, { loading }] = useMutation(SAVE_EMAIL_CONFIGURATION)\n\n  const validateInput = () => {\n    const emailErrors = !validateFunc({ email: email }, 'email')\n\n    setEmailError(emailErrors)\n    return emailErrors\n  }\n\n  const classes = useStyles()\n  const globalClasses = useGlobalStyles()\n\n  return (\n    <Box container className={classes.container}>\n      <Box className={classes.flexRow}>\n        <Box item className={classes.heading}>\n          <Typography variant=\"h6\" className={classes.text}>\n            Form Submission Email\n          </Typography>\n        </Box>\n      </Box>\n\n      <Box className={classes.form}>\n        <form ref={formRef}>\n          <Box>\n            <Typography className={classes.labelText}>\n              Form Submission Email\n            </Typography>\n            <Input\n              style={{ marginTop: -1 }}\n              id=\"input-email\"\n              name=\"input-email\"\n              placeholder=\"Email address\"\n              type=\"email\"\n              value={email}\n              onChange={e => {\n                setEmail(e.target.value)\n              }}\n              disableUnderline\n              className={[\n                globalClasses.input,\n                emailError === false\n                  ? globalClasses.inputError\n                  : emailError === true\n                  ? globalClasses.inputSuccess\n                  : ''\n              ]}\n            />\n          </Box>\n          <Box>\n            <Button\n              className={globalClasses.button}\n              disabled={loading}\n              onClick={e => {\n                e.preventDefault()\n                if (validateInput()) {\n                  mutate({\n                    variables: {\n                      configurationInput: {\n                        formEmail: formRef.current['input-email'].value\n                      }\n                    }\n                  })\n                    .then(response => {\n                      // Handle successful response\n                      console.log(response)\n                    })\n                    .catch(error => {\n                      // Handle GraphQL errors\n                      console.error('GraphQL error:', error.message)\n                    })\n                }\n              }}>\n              {loading ? (\n                <CircularProgress size={24} color=\"primary\" />\n              ) : (\n                'SAVE'\n              )}\n            </Button>\n          </Box>\n        </form>\n      </Box>\n    </Box>\n  )\n}\n\nexport default withTranslation()(EmailConfiguration)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}